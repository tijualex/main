{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Your content for this page goes here -->

<!-- CONTENT WRAPPER -->
<div class="ec-content-wrapper">
    <div class="content">
        <div class="breadcrumb-wrapper d-flex align-items-center justify-content-between">
            <div>
                <h1>All Neck Patterns</h1>
                <p class="breadcrumbs">
                    <span><a href="{% url 'admin_index' %}">Home</a></span>
                    <span><i class="mdi mdi-chevron-right"></i></span>All Neck Patterns
                </p>
            </div>
            <div>
                <a href="{% url 'add_neck_pattern' %}" class="btn btn-primary">Add Neck Pattern</a>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Image</th>
                        <th>Dress Type</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for pattern in neck_patterns %}
                    <tr>
                        <td>{{ pattern.id }}</td>
                        <td>{{ pattern.name }}</td>
                        <td>
                            <img src="{{ pattern.image.url }}" alt="{{ pattern.name }}" width="100" height="100">
                        </td>
                        <td>{{ pattern.dress_type.dress_type }}</td>
                        <td>${{ pattern.price }}</td>
                        <td>
                            <!-- Update Neck Pattern Button -->
                            <a class="btn btn-primary btn-sm update-neck-pattern" href="#" data-neck-pattern-id="{{ pattern.id }}">Update</a>

                            <!-- Delete Neck Pattern Button -->
                            <a class="btn btn-warning btn-sm delete-neck-pattern" href="#" data-neck-pattern-id="{{ pattern.id }}">Delete</a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6">No neck patterns available.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</div>

<!-- Add JavaScript for selection and highlighting -->
<script>
    $(document).ready(function () {
        $('.table tbody tr').hover(function () {
            // Mouse over
            $(this).addClass('bg-primary text-white');
        }, function () {
            // Mouse out
            $(this).removeClass('bg-primary text-white');
        });

        $('.table tbody tr').click(function () {
            // Clicked
            $('.table tbody tr').removeClass('selected'); // Deselect all
            $(this).addClass('selected');
            
            // Get the selected pattern ID
            var patternId = $(this).find('.update-neck-pattern').data('neck-pattern-id');
            console.log('Selected Neck Pattern ID: ' + patternId);
        });
    });
</script>

{% endblock %}
